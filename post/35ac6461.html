<!DOCTYPE html><html lang="zh-CN" data-theme="light"><script>((function() {var callbacks = [],timeLimit = 50,open = false;setInterval(loop, 1);return {addListener: function(fn) {callbacks.push(fn);},cancleListenr: function(fn) {callbacks = callbacks.filter(function(v) {return v !== fn;});}}
function loop() {var startTime = new Date();debugger;if (new Date() - startTime > timeLimit) {if (!open) {callbacks.forEach(function(fn) {fn.call(null);});}open = true;window.stop();alert('你真坏，请关闭控制台！');document.body.innerHTML = "";} else {open = false;}}})()).addListener(function() {window.location.reload();});</script><script>function toDevtools(){
  let num = 0; 
  let devtools = new Date();
  devtools.toString = function() {
    num++;
    if (num > 1) {
        alert('你真坏，请关闭控制台！')
        window.location.href = "about:blank"
        blast();
    }
  }
  console.log('', devtools);
}
toDevtools();</script><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>大数据编程与可视化 - 期末复习 | Jannan的博客</title><meta name="author" content="Jannan"><meta name="copyright" content="Jannan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="期末将至，临时抱一下佛脚  数据的索引numpy 中 ndarray 的索引与切片12345678910arr2d &#x3D; np.array([[1, 2, 3],                  [4, 5, 6],                  [7, 8, 9]])arr2d[1] # array([4, 5, 6])arr2d[0, 1] # 2arr2d[:2] # array([[">
<meta property="og:type" content="article">
<meta property="og:title" content="大数据编程与可视化 - 期末复习">
<meta property="og:url" content="https://www.jannan.top/post/35ac6461.html">
<meta property="og:site_name" content="Jannan的博客">
<meta property="og:description" content="期末将至，临时抱一下佛脚  数据的索引numpy 中 ndarray 的索引与切片12345678910arr2d &#x3D; np.array([[1, 2, 3],                  [4, 5, 6],                  [7, 8, 9]])arr2d[1] # array([4, 5, 6])arr2d[0, 1] # 2arr2d[:2] # array([[">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2023/10/13/N5Vvr3CEMHgGZcw.jpg">
<meta property="article:published_time" content="2024-01-07T12:14:24.000Z">
<meta property="article:modified_time" content="2024-01-09T05:02:16.628Z">
<meta property="article:author" content="Jannan">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="数据分析">
<meta property="article:tag" content="数据可视化">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2023/10/13/N5Vvr3CEMHgGZcw.jpg"><link rel="shortcut icon" href="https://s2.loli.net/2023/10/13/9mAt1eajwJdCVyT.jpg"><link rel="canonical" href="https://www.jannan.top/post/35ac6461.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Jannan","link":"链接: ","source":"来源: Jannan的博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: false,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '大数据编程与可视化 - 期末复习',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-01-09 13:02:16'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/js-heo@1.0.11/mainColor/heoMainColor.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/js-heo@1.0.11/404/404.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s2.loli.net/2023/10/13/9mAt1eajwJdCVyT.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">30</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s2.loli.net/2023/10/13/N5Vvr3CEMHgGZcw.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Jannan的博客"><span class="site-name">Jannan的博客</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">大数据编程与可视化 - 期末复习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-01-07T12:14:24.000Z" title="发表于 2024-01-07 20:14:24">2024-01-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-09T05:02:16.628Z" title="更新于 2024-01-09 13:02:16">2024-01-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Python/">Python</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="大数据编程与可视化 - 期末复习"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote>
<p>期末将至，临时抱一下佛脚</p>
</blockquote>
<h2 id="数据的索引"><a href="#数据的索引" class="headerlink" title="数据的索引"></a>数据的索引</h2><h3 id="numpy-中-ndarray-的索引与切片"><a href="#numpy-中-ndarray-的索引与切片" class="headerlink" title="numpy 中 ndarray 的索引与切片"></a>numpy 中 ndarray 的索引与切片</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">arr2d = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">                  [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>],</span><br><span class="line">                  [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br><span class="line">arr2d[<span class="number">1</span>] <span class="comment"># array([4, 5, 6])</span></span><br><span class="line">arr2d[<span class="number">0</span>, <span class="number">1</span>] <span class="comment"># 2</span></span><br><span class="line">arr2d[:<span class="number">2</span>] <span class="comment"># array([[1, 2, 3], [4, 5, 6]])</span></span><br><span class="line">arr2d[<span class="number">1</span>, :<span class="number">2</span>] <span class="comment"># array([4, 5])</span></span><br><span class="line">arr2d[[<span class="number">0</span>, <span class="number">2</span>]] <span class="comment"># array([[1, 2, 3], [7, 8, 9]])</span></span><br><span class="line">arr2d[[<span class="number">1</span>, <span class="number">3</span>],[<span class="number">1</span>, <span class="number">2</span>]] <span class="comment"># 获取索引为(1,1)和(3,2)的元素</span></span><br><span class="line">arr2d[[<span class="literal">False</span>, <span class="literal">True</span>, <span class="literal">False</span>]] <span class="comment"># array([[4, 5, 6]])</span></span><br></pre></td></tr></table></figure>
<h3 id="pandas-索引操作"><a href="#pandas-索引操作" class="headerlink" title="pandas 索引操作"></a>pandas 索引操作</h3><h4 id="Series-索引操作"><a href="#Series-索引操作" class="headerlink" title="Series 索引操作"></a>Series 索引操作</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ser_obj = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>])</span><br><span class="line">ser_obj[<span class="number">2</span>] <span class="comment"># 使用索引位置获取数据</span></span><br><span class="line">ser_obj[<span class="string">&#x27;c&#x27;</span>] <span class="comment"># 使用索引名称获取数据</span></span><br><span class="line"><span class="comment"># 切片结果是包含结束位置的</span></span><br><span class="line">ser_obj[<span class="number">2</span>:<span class="number">4</span>] <span class="comment"># 使用位置索引进行切片</span></span><br><span class="line">ser_obj[<span class="string">&#x27;c&#x27;</span>:<span class="string">&#x27;e&#x27;</span>] <span class="comment"># 使用索引名称进行切片</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过不连续位置索引获取数据集</span></span><br><span class="line">ser_obj[[<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="comment"># 通过不连续索引名称获取数据集</span></span><br><span class="line">ser_obj[[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建布尔型Series对象</span></span><br><span class="line">ser_bool = ser_obj &gt; <span class="number">2</span></span><br><span class="line"><span class="comment"># 获取结果为True的数据</span></span><br><span class="line">ser_obj[ser_bool]</span><br><span class="line"><span class="comment"># 整个数组乘2</span></span><br><span class="line">ser_obj * <span class="number">2</span></span><br></pre></td></tr></table></figure>
<h4 id="DataFrame-索引操作"><a href="#DataFrame-索引操作" class="headerlink" title="DataFrame 索引操作"></a>DataFrame 索引操作</h4><p>行索引是通过<code>index</code>属性获取的，列索引是通过<code>columns</code>属性获取的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过列索引的方式获取一列数据</span></span><br><span class="line">element = df_obj[<span class="string">&#x27;No2&#x27;</span>] <span class="comment"># element = df_obj.No2</span></span><br><span class="line"><span class="built_in">type</span>(element) <span class="comment"># pandas.core.series.Series</span></span><br><span class="line">df[:<span class="number">2</span>] <span class="comment"># 前2行</span></span><br><span class="line">df[<span class="number">1</span>:<span class="number">3</span>] <span class="comment"># 2~3行</span></span><br><span class="line">sample(n) <span class="comment"># 随机选取n行显示</span></span><br><span class="line">sample(frac=<span class="number">0.6</span>) <span class="comment"># 随机抽取60%的行</span></span><br><span class="line">df[df[<span class="string">&#x27;year&#x27;</span>]==<span class="number">2001</span>] <span class="comment"># 布尔选择</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># .loc(行名称或条件，列名称)</span></span><br><span class="line"><span class="comment"># .iloc(行位置，列位置)</span></span><br><span class="line">df.loc[:, [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;year&#x27;</span>]]</span><br><span class="line">df.loc[df[<span class="string">&#x27;year&#x27;</span>]&gt;=<span class="number">2002</span>, [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;year&#x27;</span>]]</span><br><span class="line">df.iloc[:, <span class="number">2</span>]</span><br><span class="line">df.iloc[[<span class="number">1</span>, <span class="number">3</span>]] <span class="comment"># 第一行和第三行</span></span><br><span class="line">df.iloc[[<span class="number">1</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">2</span>]] <span class="comment"># 不同于ndarray</span></span><br></pre></td></tr></table></figure>

<h2 id="DataFrame-增删查改"><a href="#DataFrame-增删查改" class="headerlink" title="DataFrame 增删查改"></a>DataFrame 增删查改</h2><h3 id="增加、删除一行数据"><a href="#增加、删除一行数据" class="headerlink" title="增加、删除一行数据"></a>增加、删除一行数据</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data1 = &#123;<span class="string">&#x27;city&#x27;</span>:<span class="string">&#x27;兰州&#x27;</span>,<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;李红&#x27;</span>,<span class="string">&#x27;year&#x27;</span>:<span class="number">2005</span>,<span class="string">&#x27;sex&#x27;</span>:<span class="string">&#x27;female&#x27;</span>&#125;</span><br><span class="line">df = df.append(data1,ignore_index=<span class="literal">True</span>)</span><br><span class="line">df[<span class="string">&#x27;score&#x27;</span>] = [<span class="number">90</span>,<span class="number">80</span>,<span class="number">70</span>,<span class="number">85</span>,<span class="number">80</span>] <span class="comment"># 增加一列score，并赋值为[90,80,70,85,80]</span></span><br><span class="line">df.drop(df[df[<span class="string">&#x27;city&#x27;</span>]==<span class="string">&#x27;广州&#x27;</span>].index, axis=<span class="number">0</span>, inplace=<span class="literal">True</span>) <span class="comment"># 删除df中含有 广州 的这行数据</span></span><br><span class="line">df.drop(<span class="string">&#x27;sex&#x27;</span>,axis = <span class="number">1</span>,inplace = <span class="literal">True</span>) <span class="comment"># 删除df中 sex 这一列数据</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="增加、删除一列数据"><a href="#增加、删除一列数据" class="headerlink" title="增加、删除一列数据"></a>增加、删除一列数据</h3><h3 id="修改某个元素"><a href="#修改某个元素" class="headerlink" title="修改某个元素"></a>修改某个元素</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.replace(<span class="string">&#x27;小明&#x27;</span>,<span class="string">&#x27;王明&#x27;</span>,inplace=<span class="literal">True</span>) <span class="comment"># 将name中的 小明 改成 王明</span></span><br></pre></td></tr></table></figure>

<h2 id="数据处理的基本操作"><a href="#数据处理的基本操作" class="headerlink" title="数据处理的基本操作"></a>数据处理的基本操作</h2><h3 id="重复值"><a href="#重复值" class="headerlink" title="重复值"></a>重复值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">duplicated(subset=<span class="literal">None</span>, keep=<span class="string">&#x27;first&#x27;</span>) <span class="comment"># keep=first|last|False False则标记所有重复行 subset=[&#x27;A&#x27;, &#x27;B&#x27;]|&#x27;A&#x27;</span></span><br><span class="line">drop_duplicates(subset=<span class="literal">None</span>, keep=<span class="string">&#x27;first&#x27;</span>, inplace=<span class="literal">False</span>) </span><br></pre></td></tr></table></figure>
<h3 id="空值、缺失值"><a href="#空值、缺失值" class="headerlink" title="空值、缺失值"></a>空值、缺失值</h3><p>空值None、缺失值NaN</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pd.isnull(obj) <span class="comment"># None或NaN则为true</span></span><br><span class="line">pd.notnull(obj) <span class="comment"># 相反</span></span><br><span class="line">df.dropna(axis=<span class="number">0</span>, how=<span class="string">&#x27;any&#x27;</span>, thresh=<span class="literal">None</span>, subset=<span class="literal">None</span>, inplace=<span class="literal">False</span>) <span class="comment"># how=&#x27;any&#x27;|&#x27;all&#x27; thresh=1表示少于一个非缺失值则删除 axis=0行</span></span><br><span class="line">fillna(value=<span class="literal">None</span>, method=<span class="literal">None</span>, axis=<span class="literal">None</span>, inplace=<span class="literal">False</span>, limit=<span class="literal">None</span>, downcast=<span class="literal">None</span>, **kwargs) <span class="comment"># method=&#x27;ffill&#x27;|&#x27;bfill&#x27; axis=0列</span></span><br></pre></td></tr></table></figure>
<h3 id="数据合并"><a href="#数据合并" class="headerlink" title="数据合并"></a>数据合并</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pd.concat(objs, axis=<span class="number">0</span>, join=<span class="string">&#x27;outer&#x27;</span>, join_axes=<span class="literal">None</span>, ignore_index=Fase, keys=<span class="literal">None</span>, levels=<span class="literal">None</span>, names=Node, ...) <span class="comment"># 轴向堆叠数据</span></span><br><span class="line"><span class="comment"># axis=0行 join=&#x27;outer&#x27;|&#x27;inner&#x27; ignore_index=True忽略原来的索引，建立新的索引</span></span><br><span class="line">pd.merge(left, right, how=<span class="string">&#x27;inner&#x27;</span>, on=<span class="literal">None</span>, left_on=<span class="literal">None</span>, right_on=<span class="literal">None</span>, left_index=<span class="literal">False</span>, right_index=<span class="literal">False</span>, sort=<span class="literal">False</span>, suffixes=(<span class="string">&#x27;_x&#x27;</span>, <span class="string">&#x27;_y&#x27;</span>), copy=<span class="literal">True</span>, indicator=<span class="literal">False</span>, validate=<span class="literal">None</span>)</span><br><span class="line"><span class="comment"># on用于合并的列名 suffixes为重叠的列名添加后缀 copy=True不修改原始数据框 indicator=True指示每一行的来源</span></span><br><span class="line"></span><br><span class="line">df.join(other)</span><br><span class="line">df.combine_first(other)</span><br></pre></td></tr></table></figure>
<h3 id="数据离散化"><a href="#数据离散化" class="headerlink" title="数据离散化"></a>数据离散化</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pd.cut(x, bins, right=<span class="literal">True</span>, labels=<span class="literal">None</span>, retbins=<span class="literal">False</span>, precision=<span class="number">3</span>, inclue_lowest=<span class="literal">False</span>, duplicates=<span class="string">&#x27;raise&#x27;</span>)</span><br><span class="line"><span class="comment"># x 一维数组 right是否包含右端点</span></span><br><span class="line">bins=[<span class="number">0</span>, <span class="number">59</span>, <span class="number">70</span>, <span class="number">80</span>, <span class="number">100</span>]</span><br><span class="line">x_cut = pd.cut(x, bins, labels=[<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>])</span><br></pre></td></tr></table></figure>
<h3 id="数据标准化"><a href="#数据标准化" class="headerlink" title="数据标准化"></a>数据标准化</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. x&#x27; = (x - min) / (max - min) 离差标准化</span></span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> MinMaxScaler</span><br><span class="line">scaler = MinMaxScaler()</span><br><span class="line">scaler.fit(df)</span><br><span class="line">df_scaler = scaler.transform(df)</span><br><span class="line"><span class="comment"># 2. x&#x27; = (x - mean) / std 标准差标准化</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">StandardScaler</span>(<span class="params">data</span>):  <span class="comment"># 自定义方法</span></span><br><span class="line">    data = (data - data.mean()) / data.std()</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">df_scaler = StandardScaler(df)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler <span class="comment"># 调库</span></span><br><span class="line">scaler = StandardScaler()</span><br><span class="line">scaler.fit(df)</span><br><span class="line">df_standard = scaler.transform(df)</span><br><span class="line"><span class="comment"># 3. x&#x27; = (x - median) / iqr 鲁棒标准化</span></span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> RobustScaler</span><br><span class="line">scaler = RobustScaler() <span class="comment"># ...</span></span><br></pre></td></tr></table></figure>
<h3 id="哑变量处理"><a href="#哑变量处理" class="headerlink" title="哑变量处理"></a>哑变量处理</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pd.get_dummies(data, prefix=<span class="literal">None</span>, prefix_seq=<span class="string">&#x27;_&#x27;</span>, dummy_na=<span class="literal">False</span>, columns=<span class="literal">None</span>, sparse=<span class="literal">False</span>, drop_first=<span class="literal">False</span>, dtype=<span class="literal">None</span>)</span><br><span class="line"><span class="comment"># columns默认对所有非数值型列进行独热编码</span></span><br><span class="line">df = pd.concat([df, pd.get_dummies(df.category)], axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<h3 id="有序分类数据编码"><a href="#有序分类数据编码" class="headerlink" title="有序分类数据编码"></a>有序分类数据编码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;<span class="string">&quot;学号&quot;</span>:[<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>],<span class="string">&quot;成绩&quot;</span>:[<span class="string">&quot;优秀&quot;</span>,<span class="string">&quot;中等&quot;</span>,<span class="string">&quot;及格&quot;</span>]&#125;)</span><br><span class="line">mapper = &#123;<span class="string">&quot;优秀&quot;</span>:<span class="number">5</span>,<span class="string">&quot;良好&quot;</span>:<span class="number">4</span>,<span class="string">&quot;中等&quot;</span>:<span class="number">3</span>,<span class="string">&quot;及格&quot;</span>:<span class="number">2</span>,<span class="string">&quot;不及格&quot;</span>:<span class="number">1</span>&#125;</span><br><span class="line">df[<span class="string">&quot;成绩&quot;</span>].replace(mapper,inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<h2 id="数据分组与聚合"><a href="#数据分组与聚合" class="headerlink" title="数据分组与聚合"></a>数据分组与聚合</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 按Key列进行分组,遍历分组对象</span></span><br><span class="line">group_obj = df.groupby(by=<span class="string">&#x27;Key&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> group_obj:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">group_A = group_obj.get_group(<span class="string">&#x27;A&#x27;</span>) <span class="comment"># 获取分组A</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将df进行分组，行索引为0和3的数据为a组，行索引为1和4的数据为b组，行索引为3的数据为c组</span></span><br><span class="line">se = pd.Series([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>])</span><br><span class="line">group_obj = df.groupby(by = se)  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 对num_df按列进行分组，其中a和c列为第一组，b，d和e列为第二组</span></span><br><span class="line">mapping = &#123;<span class="string">&#x27;a&#x27;</span>:<span class="string">&#x27;第一组&#x27;</span>,<span class="string">&#x27;b&#x27;</span>:<span class="string">&#x27;第二组&#x27;</span>,<span class="string">&#x27;c&#x27;</span>:<span class="string">&#x27;第一组&#x27;</span>,</span><br><span class="line">           <span class="string">&#x27;d&#x27;</span>:<span class="string">&#x27;第三组&#x27;</span>,<span class="string">&#x27;e&#x27;</span>:<span class="string">&#x27;第二组&#x27;</span>&#125;</span><br><span class="line">by_column = num_df.groupby(mapping, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 按函数进行分组</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">if</span> x &gt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;a&#x27;</span></span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;b&#x27;</span></span><br><span class="line">df_group = df.groupby(df[].<span class="built_in">map</span>(judge))</span><br><span class="line"><span class="comment"># map 映射Series</span></span><br><span class="line"><span class="comment"># apply 映射dataframe的行或列        </span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">df.groupby(<span class="string">&quot;&quot;</span>).mean() <span class="comment"># 内置函数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">arr</span>):</span><br><span class="line">    <span class="keyword">return</span> arr.<span class="built_in">max</span>() - arr.<span class="built_in">min</span>()</span><br><span class="line">df_group.agg(func) <span class="comment"># 自定义函数</span></span><br><span class="line"></span><br><span class="line">df_group.agg([func, <span class="built_in">sum</span>]) <span class="comment"># 多个函数</span></span><br><span class="line"></span><br><span class="line">df_group.agg([(<span class="string">&quot;极差&quot;</span>, func), (<span class="string">&quot;和&quot;</span>, <span class="built_in">sum</span>)]) <span class="comment"># 起名</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 不同列不同函数</span></span><br><span class="line">df_group.agg(&#123;<span class="string">&#x27;a&#x27;</span>:<span class="string">&#x27;sum&#x27;</span>, <span class="string">&#x27;b&#x27;</span>:<span class="string">&#x27;mean&#x27;</span>, <span class="string">&#x27;c&#x27;</span>:func&#125;)</span><br><span class="line">data_group.agg(&#123;<span class="string">&#x27;a&#x27;</span>: [(<span class="string">&#x27;和&#x27;</span>, <span class="string">&#x27;sum&#x27;</span>)],</span><br><span class="line">                <span class="string">&#x27;b&#x27;</span>: [(<span class="string">&#x27;平均值&#x27;</span>, <span class="string">&#x27;mean&#x27;</span>)],</span><br><span class="line">                <span class="string">&#x27;c&#x27;</span>: [(<span class="string">&#x27;极差&#x27;</span>, range_data_group)]&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="数据可视化"><a href="#数据可视化" class="headerlink" title="数据可视化"></a>数据可视化</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.figure()</span><br><span class="line"><span class="comment"># 设置刻度范围和刻度标签</span></span><br><span class="line">plt.ylim(<span class="number">0</span>, y.<span class="built_in">max</span>() + <span class="number">20</span>) <span class="comment"># left right</span></span><br><span class="line"><span class="comment"># 设置刻度范围和刻度标签</span></span><br><span class="line">plt.xticks(indexs, labels)</span><br><span class="line"><span class="comment"># 添加参考线</span></span><br><span class="line">plt.axhline(y=average, linestyle=<span class="string">&#x27;--&#x27;</span>, linewidth=<span class="number">1</span>, color=<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">plt.axvline(x=<span class="number">0</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line"><span class="comment"># 参考区域</span></span><br><span class="line">plt.axvspan(xmin=<span class="number">0.5</span>, xmax=<span class="number">2.0</span>, alpha=<span class="number">0.3</span>)</span><br><span class="line">plt.axhspan(ymin=<span class="number">0.5</span>, ymax=<span class="number">1.0</span>, alpha=<span class="number">0.3</span>)</span><br><span class="line"><span class="comment"># 添加无指向型注释文本</span></span><br><span class="line">plt.text(<span class="number">3.10</span>, <span class="number">0.10</span>, <span class="string">&quot;y=sin(x)&quot;</span>, bbox=<span class="built_in">dict</span>(alpha=<span class="number">0.2</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="折线图"><a href="#折线图" class="headerlink" title="折线图"></a>折线图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, y_max, marker=<span class="string">&#x27;o&#x27;</span>, label=<span class="string">&#x27;最高温度&#x27;</span>)</span><br><span class="line">plt.plot(x, y_min, marker=<span class="string">&#x27;o&#x27;</span>, label=<span class="string">&#x27;最低温度&#x27;</span>)</span><br><span class="line"><span class="comment"># 为图表添加注释并设置字体的样式</span></span><br><span class="line">x_temp = <span class="number">4</span></span><br><span class="line"><span class="keyword">for</span> y_h, y_l <span class="keyword">in</span> <span class="built_in">zip</span>(y_max, y_min):</span><br><span class="line">    <span class="comment"># x y value</span></span><br><span class="line">    plt.text(x_temp-<span class="number">0.3</span>, y_h  + <span class="number">0.7</span>, y_h, family=<span class="string">&#x27;SimHei&#x27;</span>, fontsize=<span class="number">8</span>, fontstyle=<span class="string">&#x27;normal&#x27;</span>)</span><br><span class="line">    plt.text(x_temp-<span class="number">0.3</span>, y_l  + <span class="number">0.7</span>, y_l, family=<span class="string">&#x27;SimHei&#x27;</span>, fontsize=<span class="number">8</span>, fontstyle=<span class="string">&#x27;normal&#x27;</span>)</span><br><span class="line">    x_temp  += <span class="number">1</span></span><br><span class="line"><span class="comment"># 添加指向型注释文本</span></span><br><span class="line">plt.annotate(<span class="string">&quot;最大值&quot;</span>,</span><br><span class="line">             xy=(<span class="number">6</span>, <span class="number">34</span>), <span class="comment"># 指向最大值(6, 34)</span></span><br><span class="line">             xytext=(<span class="number">6</span>, <span class="number">30</span>), <span class="comment"># 文本坐标</span></span><br><span class="line">             arrowprops=<span class="built_in">dict</span>(arrowstyle=<span class="string">&quot;-&gt;&quot;</span>))</span><br><span class="line">plt.annotate(<span class="string">&quot;最小值&quot;</span>,</span><br><span class="line">             xy=(<span class="number">15</span>, <span class="number">14</span>),</span><br><span class="line">             xytext=(<span class="number">15</span>, <span class="number">10</span>),</span><br><span class="line">             arrowprops=<span class="built_in">dict</span>(arrowstyle=<span class="string">&quot;-&gt;&quot;</span>))</span><br><span class="line">plt.title(<span class="string">&#x27;未来15天最高气温和最低气温的走势&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;日期&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;温度($^\circ$C)&#x27;</span>)</span><br><span class="line">plt.ylim(<span class="number">0</span>, <span class="number">40</span>) <span class="comment"># 设置纵轴范围</span></span><br><span class="line">plt.legend() <span class="comment"># </span></span><br></pre></td></tr></table></figure>
<h3 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">total_weight = <span class="built_in">sum</span>(weight) <span class="comment"># weight为数据 kinds为标签名列表</span></span><br><span class="line">batching_scale = [i / total_weight <span class="keyword">for</span> i <span class="keyword">in</span> weight]</span><br><span class="line">plt.pie(batching_scale, autopct=<span class="string">&#x27;%3.1f%%&#x27;</span>)</span><br><span class="line">plt.legend(kinds, loc=<span class="string">&#x27;upper right&#x27;</span>, bbox_to_anchor=[<span class="number">1.1</span>, <span class="number">1.1</span>]) <span class="comment"># upper lower left right center </span></span><br><span class="line"><span class="comment"># 添加表格 cellText二维数据 cellLoc=left|right|center对齐方式 rowLabels标题文本</span></span><br><span class="line">plt.table(cellText=[weight], cellLoc=<span class="string">&#x27;center&#x27;</span>, rowLabels=[<span class="string">&#x27;重量(g)&#x27;</span>], colLabels=kinds, loc=<span class="string">&#x27;lower center&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="柱形图"><a href="#柱形图" class="headerlink" title="柱形图"></a>柱形图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">men_means = (<span class="number">90.5</span>, <span class="number">89.5</span>, <span class="number">88.7</span>, <span class="number">88.5</span>, <span class="number">85.2</span>, <span class="number">86.6</span>)</span><br><span class="line">women_means = (<span class="number">92.7</span>, <span class="number">87.0</span>, <span class="number">90.5</span>, <span class="number">85.0</span>, <span class="number">89.5</span>, <span class="number">89.8</span>)</span><br><span class="line">ind = np.arange(<span class="built_in">len</span>(men_means))  <span class="comment"># 每组柱形的 x 位置</span></span><br><span class="line">width = <span class="number">0.3</span>                      <span class="comment"># 各柱形的宽度</span></span><br><span class="line">plt.bar(ind - width / <span class="number">2</span>, men_means, width, label=<span class="string">&#x27;男生平均成绩&#x27;</span>)</span><br><span class="line">plt.bar(ind + width / <span class="number">2</span>, women_means, width, label=<span class="string">&#x27;女生平均成绩&#x27;</span>)</span><br><span class="line"></span><br><span class="line">x_temp = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> y_m, y_f <span class="keyword">in</span> <span class="built_in">zip</span>(men_means, women_means):</span><br><span class="line">    plt.text(x_temp-width, y_m  + <span class="number">0.7</span>, y_m, family=<span class="string">&#x27;SimHei&#x27;</span>, fontsize=<span class="number">8</span>, fontstyle=<span class="string">&#x27;normal&#x27;</span>)</span><br><span class="line">    plt.text(x_temp, y_f  + <span class="number">0.7</span>, y_f, family=<span class="string">&#x27;SimHei&#x27;</span>, fontsize=<span class="number">8</span>, fontstyle=<span class="string">&#x27;normal&#x27;</span>)</span><br><span class="line">    x_temp  += <span class="number">1</span></span><br><span class="line">plt.xticks(ind,[<span class="string">&#x27;高二1班&#x27;</span>, <span class="string">&#x27;高二2班&#x27;</span>, <span class="string">&#x27;高二3班&#x27;</span>, <span class="string">&#x27;高二4班&#x27;</span>, <span class="string">&#x27;高二5班&#x27;</span>, <span class="string">&#x27;高二6班&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 堆叠</span></span><br><span class="line">plt.bar(x, y1, bar_width, color=<span class="string">&quot;#FFCC00&quot;</span>, align=<span class="string">&quot;center&quot;</span>, label =<span class="string">&quot;地区1&quot;</span>)</span><br><span class="line">plt.bar(x, y2, bar_width, bottom=y1, color=<span class="string">&quot;#B0C4DE&quot;</span>, align=<span class="string">&quot;center&quot;</span>, label=<span class="string">&quot;地区2&quot;</span>)</span><br><span class="line">plt.grid(axis=<span class="string">&#x27;y&#x27;</span>, color=<span class="string">&quot;gray&quot;</span>, alpha=<span class="number">0.2</span>)</span><br></pre></td></tr></table></figure>
<h3 id="条形图"><a href="#条形图" class="headerlink" title="条形图"></a>条形图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.barh(y+height/<span class="number">2</span>, x1, height, color=<span class="string">&#x27;orange&#x27;</span>)</span><br><span class="line">plt.barh(y-height/<span class="number">2</span>, x2, height, color=<span class="string">&#x27;green&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="面积图"><a href="#面积图" class="headerlink" title="面积图"></a>面积图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.stackplot(x, y_a, y_b, y_c)</span><br></pre></td></tr></table></figure>
<h3 id="箱线图"><a href="#箱线图" class="headerlink" title="箱线图"></a>箱线图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.boxplot([data_2018, data_2017], labels=(<span class="string">&#x27;2018年&#x27;</span>, <span class="string">&#x27;2017年&#x27;</span>),</span><br><span class="line">            meanline=<span class="literal">True</span>, widths=<span class="number">0.5</span>, vert=<span class="literal">False</span>, patch_artist=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<h3 id="散点图"><a href="#散点图" class="headerlink" title="散点图"></a>散点图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tb=data.loc[data[<span class="string">&#x27;车次&#x27;</span>] == <span class="string">&#x27;D02&#x27;</span>,[<span class="string">&#x27;日期&#x27;</span>,<span class="string">&#x27;上车人数&#x27;</span>]].sort_values(<span class="string">&#x27;日期&#x27;</span>)</span><br><span class="line">x=np.arange(<span class="number">1</span>,<span class="built_in">len</span>(tb.iloc[:,<span class="number">0</span>])+<span class="number">1</span>)</span><br><span class="line">y1=tb.iloc[:,<span class="number">1</span>]</span><br><span class="line">plt.scatter(x,y1)</span><br><span class="line">plt.xticks([<span class="number">1</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">15</span>,<span class="number">20</span>,<span class="number">24</span>], tb[<span class="string">&#x27;日期&#x27;</span>].values[[<span class="number">0</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">14</span>,<span class="number">19</span>,<span class="number">23</span>]], rotation = <span class="number">45</span>)</span><br></pre></td></tr></table></figure>
<h3 id="直方图"><a href="#直方图" class="headerlink" title="直方图"></a>直方图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tb1=data.loc[data[<span class="string">&#x27;车次&#x27;</span>] == <span class="string">&#x27;D03&#x27;</span>,[<span class="string">&#x27;日期&#x27;</span>,<span class="string">&#x27;上车人数&#x27;</span>]]</span><br><span class="line">y2=tb1.iloc[:,<span class="number">1</span>]</span><br><span class="line">plt.hist(y2)</span><br><span class="line"><span class="comment"># hist(x, bins=10)</span></span><br></pre></td></tr></table></figure>
<h2 id="Seaborn"><a href="#Seaborn" class="headerlink" title="Seaborn"></a>Seaborn</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="comment"># 可视化数据的分布</span></span><br><span class="line"><span class="comment"># 单变量</span></span><br><span class="line">sns.displot(data, x, kind, bins, rug) <span class="comment"># kind = &#x27;hist&#x27;|&#x27;kde&#x27;核密度|&#x27;ecdf&#x27;经验累积分布 bins直方图条数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 双变量</span></span><br><span class="line">sns.joinplot(x, y, data, hue, kind = <span class="string">&#x27;scatter&#x27;</span>) <span class="comment"># kind = scatter|hist直方图|kde核密度估计|hex二维直方 hue=&#x27;&#x27;分类</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 多变量</span></span><br><span class="line">sns.pairplot(data, hue, kind, <span class="built_in">vars</span>, corner=<span class="literal">False</span>) <span class="comment"># kind = scatter|hist|kde corner只显示下三角的图形 vars子集</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># heapmap</span></span><br><span class="line">flights = flights.pivot(index=<span class="string">&#x27;month&#x27;</span>,columns=<span class="string">&#x27;year&#x27;</span>,values=<span class="string">&#x27;passengers&#x27;</span>)</span><br><span class="line">sns.heatmap(flights)</span><br><span class="line">plt.yticks(rotation=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分类数据绘图 stripplot swarmplot()</span></span><br><span class="line">sns.stripplot(x=<span class="string">&quot;day&quot;</span>, y=<span class="string">&quot;total_bill&quot;</span>, data=tips,jitter=<span class="literal">False</span>) <span class="comment"># jitter是否抖动</span></span><br><span class="line">sns.stripplot(x=<span class="string">&quot;day&quot;</span>, y=<span class="string">&quot;total_bill&quot;</span>, hue=<span class="string">&#x27;sex&#x27;</span>,data=tips,dodge=<span class="literal">True</span>) <span class="comment"># dodge是否分开展示不同颜色类别</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># boxplot</span></span><br><span class="line">boxplot(x, y, hue, data, orient, palette, saturation=<span class="number">0.75</span>) <span class="comment"># orient=&#x27;v&#x27;|&#x27;h&#x27; saturation饱和度</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># barplot</span></span><br><span class="line">sns.barplot(x=<span class="string">&quot;day&quot;</span>, y=<span class="string">&quot;total_bill&quot;</span>, data=tips, estimator=<span class="string">&#x27;mean&#x27;</span>) <span class="comment"># estimator=sum|count|median|mean</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># relplot</span></span><br><span class="line">sns.replot(data, x, y, kind, hue, col, row) <span class="comment"># kind=line|scatter</span></span><br></pre></td></tr></table></figure>
<h2 id="子图绘制"><a href="#子图绘制" class="headerlink" title="子图绘制"></a>子图绘制</h2><h3 id="subplot"><a href="#subplot" class="headerlink" title="subplot"></a>subplot</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plt.subplot(<span class="number">211</span>) <span class="comment"># 占 1 2</span></span><br><span class="line">plt.subplot(<span class="number">223</span>) <span class="comment"># 占 3</span></span><br><span class="line">plt.subplot(<span class="number">224</span>) <span class="comment"># 占 4</span></span><br><span class="line">plt.tight_layout() <span class="comment"># 紧密布局</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>示例代码:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">x = [x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">13</span>)]</span><br><span class="line">y1 = [<span class="number">20</span>, <span class="number">28</span>, <span class="number">23</span>, <span class="number">16</span>, <span class="number">29</span>, <span class="number">36</span>, <span class="number">39</span>, <span class="number">33</span>, <span class="number">31</span>, <span class="number">19</span>, <span class="number">21</span>, <span class="number">25</span>]</span><br><span class="line">y2 = [<span class="number">17</span>, <span class="number">22</span>, <span class="number">39</span>, <span class="number">26</span>, <span class="number">35</span>, <span class="number">23</span>, <span class="number">25</span>, <span class="number">27</span>, <span class="number">29</span>, <span class="number">38</span>, <span class="number">28</span>, <span class="number">20</span>]</span><br><span class="line">labels = [<span class="string">&#x27;1 月&#x27;</span>, <span class="string">&#x27;2 月&#x27;</span>, <span class="string">&#x27;3 月&#x27;</span>, <span class="string">&#x27;4 月&#x27;</span>, <span class="string">&#x27;5 月&#x27;</span>, <span class="string">&#x27;6 月&#x27;</span>, <span class="string">&#x27;7月&#x27;</span>, <span class="string">&#x27;8 月&#x27;</span>, <span class="string">&#x27;9 月&#x27;</span>, <span class="string">&#x27;10 月&#x27;</span>, <span class="string">&#x27;11 月&#x27;</span>, <span class="string">&#x27;12 月&#x27;</span>]</span><br><span class="line"><span class="comment"># 绘制多子图</span></span><br><span class="line"><span class="comment"># 将画布规划成等分布局的2×1的矩阵区域 , 之后在索引为1的区域中绘制子图</span></span><br><span class="line">plt.subplot(<span class="number">211</span>)</span><br><span class="line">plt.plot(x, y1, <span class="string">&#x27;m--o&#x27;</span>, lw=<span class="number">2</span>, ms=<span class="number">5</span>, label=<span class="string">&#x27;产品A&#x27;</span>)</span><br><span class="line">plt.plot(x, y2, <span class="string">&#x27;g--o&#x27;</span>, lw=<span class="number">2</span>, ms=<span class="number">5</span>, label=<span class="string">&#x27;产品B&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;产品A 与产品B的销售额&quot;</span>, fontsize=<span class="number">11</span>)</span><br><span class="line">plt.ylim(<span class="number">10</span>, <span class="number">45</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;销售额(亿元)&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;月份&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> xy1 <span class="keyword">in</span> <span class="built_in">zip</span>(x, y1):</span><br><span class="line">    plt.annotate(xy1[<span class="number">1</span>], xy=xy1, xytext=(-<span class="number">5</span>, <span class="number">5</span>), textcoords=<span class="string">&#x27;offset points&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> xy2 <span class="keyword">in</span> <span class="built_in">zip</span>(x, y2):</span><br><span class="line">    plt.annotate(xy2[<span class="number">1</span>], xy=xy2, xytext=(-<span class="number">5</span>, <span class="number">5</span>), textcoords=<span class="string">&#x27;offset points&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line"><span class="comment"># 将画布规划成等分布局的2×2的矩阵区域 , 之后在索引为3的区域中绘制子图</span></span><br><span class="line">plt.subplot(<span class="number">223</span>)</span><br><span class="line">plt.pie(y1, radius=<span class="number">1</span>, wedgeprops=&#123;<span class="string">&#x27;width&#x27;</span>:<span class="number">0.5</span>&#125;, labels=labels, autopct=<span class="string">&#x27;%3.1f%%&#x27;</span>, pctdistance=<span class="number">0.75</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;产品A销售额&#x27;</span>)</span><br><span class="line"><span class="comment"># 将画布规划成等分布局的2×2的矩阵区域 , 之后在索引为4的区域中绘制子图</span></span><br><span class="line">plt.subplot(<span class="number">224</span>)</span><br><span class="line">plt.pie(y2, radius=<span class="number">1</span>, wedgeprops=&#123;<span class="string">&#x27;width&#x27;</span>:<span class="number">0.5</span>&#125;, labels=labels,autopct=<span class="string">&#x27;%3.1f%%&#x27;</span>, pctdistance=<span class="number">0.75</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;产品B的销售额 &#x27;</span>)</span><br><span class="line"><span class="comment"># 调整子图之间的距离</span></span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h3 id="subplots"><a href="#subplots" class="headerlink" title="subplots"></a>subplots</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig, ax_arr = plt.subplots(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">ax_3 = ax_arr[<span class="number">1</span>, <span class="number">0</span>]</span><br><span class="line">ax_3.plot()</span><br></pre></td></tr></table></figure>
<h3 id="subplot2grid"><a href="#subplot2grid" class="headerlink" title="subplot2grid"></a>subplot2grid</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># rowspan colspan 默认为1</span></span><br><span class="line">plt.subplot2grid((<span class="number">3</span>,<span class="number">2</span>), (<span class="number">0</span>,<span class="number">0</span>), rowspan=<span class="number">2</span>, colspan=<span class="number">2</span>)</span><br><span class="line">plt.subplot2grid((<span class="number">3</span>,<span class="number">2</span>), (<span class="number">2</span>,<span class="number">0</span>))</span><br><span class="line">plt.subplot2grid((<span class="number">3</span>,<span class="number">2</span>), (<span class="number">2</span>,<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p>示例代码:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">data_2017 = np.array([<span class="number">21</span>, <span class="number">35</span>, <span class="number">22</span>, <span class="number">19</span>, <span class="number">3</span>])</span><br><span class="line">data_2018 = np.array([<span class="number">13</span>, <span class="number">32</span>, <span class="number">27</span>, <span class="number">27</span>, <span class="number">1</span>])</span><br><span class="line">x = np.arange(<span class="number">5</span>)</span><br><span class="line">y = np.array([<span class="number">51</span>, <span class="number">73</span>, <span class="number">99</span>, <span class="number">132</span>, <span class="number">45</span>])</span><br><span class="line"><span class="comment"># 绘制多子图</span></span><br><span class="line">labels = np.array([<span class="string">&#x27;一线城市&#x27;</span>, <span class="string">&#x27;二线城市&#x27;</span>, <span class="string">&#x27;三线城市&#x27;</span>, <span class="string">&#x27;四线及以外&#x27;</span>, <span class="string">&#x27;其他国家及地区&#x27;</span>])</span><br><span class="line"><span class="comment"># 平均增长倍数</span></span><br><span class="line">average = np.mean(y)</span><br><span class="line">bar_width = <span class="number">0.5</span></span><br><span class="line"><span class="comment"># 第1个子图</span></span><br><span class="line">plt.subplot2grid((<span class="number">3</span>,<span class="number">2</span>), (<span class="number">0</span>,<span class="number">0</span>), rowspan=<span class="number">2</span>, colspan=<span class="number">2</span>)</span><br><span class="line">plt.bar(x, y, tick_label=labels, color=<span class="string">&#x27;#20B2AA&#x27;</span>, width=bar_width)</span><br><span class="line">plt.title(<span class="string">&#x27;抖音2018vs2017人群增长倍数&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;增长倍数&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> location,height <span class="keyword">in</span> <span class="built_in">zip</span>(x,y):</span><br><span class="line">    plt.text(location,height+<span class="number">3</span>,height,ha=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line">plt.ylim(<span class="number">0</span>, y.<span class="built_in">max</span>() + <span class="number">20</span>)</span><br><span class="line">plt.axhline(y=average, linestyle=<span class="string">&#x27;--&#x27;</span>, linewidth=<span class="number">1</span>, color=<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line"><span class="comment"># 第2个子图</span></span><br><span class="line">plt.subplot2grid((<span class="number">3</span>,<span class="number">2</span>), (<span class="number">2</span>,<span class="number">0</span>))</span><br><span class="line">plt.pie(data_2017, radius=<span class="number">1.5</span>, labels=labels, autopct=<span class="string">&#x27;%3.1f %%&#x27;</span>, </span><br><span class="line">           colors=[<span class="string">&#x27;#2F4F4F&#x27;</span>, <span class="string">&#x27;#FF0000&#x27;</span>, <span class="string">&#x27;#A9A9A9&#x27;</span>, <span class="string">&#x27;#FFD700&#x27;</span>, <span class="string">&#x27;#B0C4DE&#x27;</span>])</span><br><span class="line">plt.title(<span class="string">&#x27;2017年抖音用户地区分布的比例&#x27;</span>,pad=<span class="number">10</span>)</span><br><span class="line"><span class="comment"># 第3个子图</span></span><br><span class="line">plt.subplot2grid((<span class="number">3</span>,<span class="number">2</span>), (<span class="number">2</span>,<span class="number">1</span>))</span><br><span class="line">plt.pie(data_2018, radius=<span class="number">1.5</span>, labels=labels, autopct=<span class="string">&#x27;%3.1f %%&#x27;</span>, startangle=<span class="number">180</span>,</span><br><span class="line">           colors=[<span class="string">&#x27;#2F4F4F&#x27;</span>, <span class="string">&#x27;#FF0000&#x27;</span>, <span class="string">&#x27;#A9A9A9&#x27;</span>, <span class="string">&#x27;#FFD700&#x27;</span>, <span class="string">&#x27;#B0C4DE&#x27;</span> ])</span><br><span class="line">plt.title(<span class="string">&#x27;2018年抖音用户地区分布的比例&#x27;</span>,pad=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调整子图之间的距离</span></span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h2 id="双坐标图"><a href="#双坐标图" class="headerlink" title="双坐标图"></a>双坐标图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># twinx() 用于共享同一子图的坐标轴</span></span><br><span class="line">fig, ax = plt.subplots(<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">bar = ax.bar(x,z)</span><br><span class="line">ax.set_xlabel(<span class="string">&#x27;x轴&#x27;</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&#x27;y轴&#x27;</span>)</span><br><span class="line">ax_right = ax.twinx()</span><br><span class="line">line = ax_right.plot(x,y,<span class="string">&#x27;o-m&#x27;</span>)</span><br><span class="line">ax_right.set_ylabel(<span class="string">&#x27;右y轴&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>示例代码:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 平均气温</span></span><br><span class="line">data_tem = np.array([<span class="number">2.0</span>, <span class="number">2.2</span>, <span class="number">3.3</span>, <span class="number">4.5</span>, <span class="number">6.3</span>, <span class="number">10.2</span>, </span><br><span class="line">                     <span class="number">20.3</span>, <span class="number">33.4</span>, <span class="number">23.0</span>, <span class="number">16.5</span>, <span class="number">12.0</span>, <span class="number">6.2</span>])</span><br><span class="line"><span class="comment"># 降水量</span></span><br><span class="line">data_precipitation = np.array([<span class="number">2.6</span>, <span class="number">5.9</span>, <span class="number">9.0</span>, <span class="number">26.4</span>, <span class="number">28.7</span>, <span class="number">70.7</span>,  </span><br><span class="line">                               <span class="number">175.6</span>, <span class="number">182.2</span>, <span class="number">48.7</span>, <span class="number">18.8</span>, <span class="number">6.0</span>, <span class="number">2.3</span>])</span><br><span class="line"><span class="comment"># 蒸发量</span></span><br><span class="line">data_evaporation = np.array([<span class="number">2.0</span>, <span class="number">4.9</span>, <span class="number">7.0</span>, <span class="number">23.2</span>, <span class="number">25.6</span>, <span class="number">76.7</span>, </span><br><span class="line">                             <span class="number">135.6</span>, <span class="number">162.2</span>, <span class="number">32.6</span>, <span class="number">20.0</span>, <span class="number">6.4</span>, <span class="number">3.3</span>])</span><br><span class="line"><span class="comment"># 按要求绘制双坐标图</span></span><br><span class="line">month_x = np.arange(<span class="number">1</span>,<span class="number">13</span>,<span class="number">1</span>)</span><br><span class="line">bar_width = <span class="number">0.3</span></span><br><span class="line">fig, ax = plt.subplots(<span class="number">1</span>,<span class="number">1</span>,figsize=(<span class="number">6</span>,<span class="number">3</span>))</span><br><span class="line">bar_ev = plt.bar(month_x-<span class="number">0.5</span>*bar_width, data_evaporation, width=<span class="number">0.3</span>,color=<span class="string">&#x27;orange&#x27;</span>)</span><br><span class="line">bar_pre = plt.bar(month_x+<span class="number">0.5</span>*bar_width, data_precipitation, width=<span class="number">0.3</span>, color=<span class="string">&#x27;green&#x27;</span>)</span><br><span class="line">plt.xticks(month_x,[<span class="string">&#x27;1月&#x27;</span>, <span class="string">&#x27;2月&#x27;</span>, <span class="string">&#x27;3月&#x27;</span>, <span class="string">&#x27;4月&#x27;</span>, <span class="string">&#x27;5月&#x27;</span>, <span class="string">&#x27;6月&#x27;</span>,<span class="string">&#x27;7月&#x27;</span>, <span class="string">&#x27;8月&#x27;</span>, <span class="string">&#x27;9月&#x27;</span>, <span class="string">&#x27;10月&#x27;</span>, <span class="string">&#x27;11月&#x27;</span>, <span class="string">&#x27;12月&#x27;</span>])</span><br><span class="line">plt.ylabel(<span class="string">&#x27;水量 (ml)&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;平均气温与降水量、蒸发量的关系&#x27;</span>)</span><br><span class="line">ax_right = ax.twinx()</span><br><span class="line">line = plt.plot(month_x, data_tem, <span class="string">&#x27;o-m&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> xy <span class="keyword">in</span> <span class="built_in">zip</span>(month_x[:<span class="number">7</span>], data_tem[:<span class="number">7</span>]):</span><br><span class="line">    plt.text(xy[<span class="number">0</span>],xy[<span class="number">1</span>]+<span class="number">1.5</span>,xy[<span class="number">1</span>],ha=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> xy <span class="keyword">in</span> <span class="built_in">zip</span>(month_x[<span class="number">8</span>:], data_tem[<span class="number">8</span>:]):</span><br><span class="line">    plt.text(xy[<span class="number">0</span>],xy[<span class="number">1</span>]+<span class="number">1</span>,xy[<span class="number">1</span>],ha=<span class="string">&#x27;left&#x27;</span>)</span><br><span class="line">plt.text(month_x[<span class="number">7</span>]+<span class="number">0.2</span>,data_tem[<span class="number">7</span>],data_tem[<span class="number">7</span>],ha=<span class="string">&#x27;left&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;气温($^\circ$C)&#x27;</span>)</span><br><span class="line"><span class="comment"># 添加图例</span></span><br><span class="line">plt.legend([bar_ev, bar_pre, line[<span class="number">0</span>]],[<span class="string">&#x27;蒸发量&#x27;</span>, <span class="string">&#x27;降水量&#x27;</span>, <span class="string">&#x27;平均气温&#x27;</span>],</span><br><span class="line">           shadow=<span class="literal">True</span>, fancybox=<span class="literal">True</span>,loc=<span class="string">&#x27;upper left&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h2 id="图中图"><a href="#图中图" class="headerlink" title="图中图"></a>图中图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">add_axes([left, bottom, width, height])</span><br></pre></td></tr></table></figure>
<p>示例代码:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">5</span>)</span><br><span class="line">y = np.arange(<span class="number">5</span>)</span><br><span class="line">z = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,<span class="number">5</span>)</span><br><span class="line">fig = plt.figure()</span><br><span class="line">plt.plot(x,y)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;x轴&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;y轴&#x27;</span>)</span><br><span class="line">line2=fig.add_axes([<span class="number">0.23</span>,<span class="number">0.6</span>,<span class="number">0.25</span>,<span class="number">0.25</span>])</span><br><span class="line">plt.plot(x,z)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;子区域 x轴&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;子区域 y轴&#x27;</span>)</span><br></pre></td></tr></table></figure>


<h2 id="回归"><a href="#回归" class="headerlink" title="回归"></a>回归</h2><p>加载数据 - 划分数据集 - 标准化 - 构建模型 - 评估模型 </p>
<h3 id="线性回归"><a href="#线性回归" class="headerlink" title="线性回归"></a>线性回归</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">X=ccpp_data.iloc[:,:<span class="number">4</span>].values.astype(<span class="built_in">float</span>)</span><br><span class="line">y=ccpp_data.iloc[:,-<span class="number">1</span>:].values.astype(<span class="built_in">float</span>)</span><br><span class="line"><span class="comment"># 划分训练集与测试集</span></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="number">0.2</span>, random_state=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># 训练集与测试集的数据集标准化</span></span><br><span class="line"><span class="comment"># ... StandardScaler</span></span><br><span class="line">X_train_std = scaler.transform(X_train)</span><br><span class="line">X_test_std = scaler.transform(X_test)</span><br><span class="line"><span class="comment"># 模型建立</span></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line">m = LinearRegression()</span><br><span class="line">m.fit(X_train_std, y_train)</span><br><span class="line"><span class="comment"># 模型评估</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> metrics</span><br><span class="line">y_train_pred = m.predict(X_train_std)</span><br><span class="line">test_mean_squared_error = metrics.mean_squared_error(y_test, y_test_pred) <span class="comment"># 均方误差</span></span><br><span class="line">test_predict_score = m.score(X_test_std, y_test) <span class="comment"># 判定系数</span></span><br><span class="line">test_predict_score = metrics.r2_score(y_test, y_test_pred) <span class="comment"># 判定系数</span></span><br><span class="line"><span class="comment"># 预测</span></span><br><span class="line">m.predict(X_new)</span><br><span class="line"><span class="comment"># 交叉验证 # 标准交叉验证 </span></span><br><span class="line">scores = cross_val_score(m, X, y, cv=<span class="number">3</span>) <span class="comment"># 各次迭代的判定系数</span></span><br><span class="line">scores.mean() <span class="comment"># 平均判定系数</span></span><br><span class="line"><span class="comment"># 分层交叉</span></span><br><span class="line">kfold = KFold(n_splits=<span class="number">3</span>, shuffle=<span class="literal">True</span>,random_state=<span class="number">10</span>) <span class="comment"># 打乱数据后进行3折交叉验证</span></span><br><span class="line">scores = -cross_val_score(m, X, y, cv=kfold, scoring=<span class="string">&#x27;neg_mean_squared_error&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="岭回归"><a href="#岭回归" class="headerlink" title="岭回归"></a>岭回归</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Ridge</span><br><span class="line"><span class="comment"># 创建模型对象</span></span><br><span class="line">model = Ridge(alpha=<span class="number">0.5</span>)  <span class="comment">#alpha的默认值为1</span></span><br><span class="line"><span class="comment"># 训练模型</span></span><br><span class="line">model.fit(X_train_std,y_train)</span><br><span class="line"><span class="comment"># 查看特征的权重系数</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;模型的特征权重：&quot;</span>,model.coef_)</span><br><span class="line"><span class="comment"># 查看截距</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;截距：&quot;</span>,model.intercept_)</span><br><span class="line"><span class="comment"># 模型根据训练参数和特征值来预测目标值</span></span><br><span class="line">y_test_pred = model.predict(X_test_std)</span><br><span class="line"><span class="comment"># 判定系数R平方</span></span><br><span class="line">model.score(X_test_std,y_test)</span><br><span class="line"><span class="comment"># 均方误差</span></span><br><span class="line">test_mean_squared_error = metrics.mean_squared_error(y_test,y_test_pred)</span><br><span class="line"><span class="comment"># 最佳超参数</span></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> RidgeCV</span><br><span class="line">modelCV = RidgeCV(alphas=np.arange(<span class="number">0.000001</span>,<span class="number">10</span>,<span class="number">1000</span>))</span><br><span class="line">modelCV.fit(X_train_std,y_train)</span><br><span class="line">y_test_predict = modelCV.predict(X_test_std)</span><br><span class="line">modelCV.alpha_ <span class="comment"># 超参数</span></span><br><span class="line">modelCV.coef_ <span class="comment"># 模型系数</span></span><br><span class="line">modelCV.intercept_ <span class="comment"># 截距</span></span><br><span class="line">modelCV.score(X_test_std,y_test) <span class="comment"># 判定系数</span></span><br></pre></td></tr></table></figure>
<h3 id="套索回归"><a href="#套索回归" class="headerlink" title="套索回归"></a>套索回归</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Lasso</span><br><span class="line">model = Lasso(alpha=<span class="number">0.8</span>)  <span class="comment">#alpha的默认值为1</span></span><br><span class="line"><span class="comment"># 最佳超参数</span></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LassoCV</span><br><span class="line">modelCV = LassoCV(alphas=np.arange(<span class="number">0.000001</span>,<span class="number">10</span>,<span class="number">1000</span>))</span><br></pre></td></tr></table></figure>
<h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><h3 id="二分类"><a href="#二分类" class="headerlink" title="二分类"></a>二分类</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">data = data.replace(&#123;<span class="string">&quot;class&quot;</span>:&#123;<span class="string">&#x27;M&#x27;</span>: <span class="number">0</span>, <span class="string">&#x27;B&#x27;</span>: <span class="number">1</span>&#125;&#125;)</span><br><span class="line">X_train,X_test,y_train,y_test = train_test_split(X,y,test_size=<span class="number">0.2</span>,random_state=<span class="number">0</span>,stratify=y)</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line">model = SVC(kernel=<span class="string">&quot;linear&quot;</span>)</span><br><span class="line">model.fit(X_train_std, y_train)</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> *</span><br><span class="line"><span class="comment"># 预测测试集数据</span></span><br><span class="line">y_test_pred = model.predict(X_test_std)</span><br><span class="line"></span><br><span class="line">acc_test = accuracy_score(y_test,y_test_pred) <span class="comment"># 准确率</span></span><br><span class="line"><span class="comment">#通过参数pos_label=0指定标签0为正类</span></span><br><span class="line">recall_test = recall_score(y_test,y_test_pred,pos_label=<span class="number">0</span>) <span class="comment"># 召回率（真正率）</span></span><br><span class="line">precision_test = precision_score(y_test,y_test_pred,pos_label=<span class="number">0</span>) <span class="comment"># 精度</span></span><br><span class="line">f1_test = f1_score(y_test,y_test_pred,pos_label=<span class="number">0</span>) <span class="comment"># f1-score</span></span><br><span class="line"><span class="comment">#通过labels指定混淆矩阵中各类别标签的排列顺序 1正类 0负类</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;混淆矩阵：\n&quot;</span>,confusion_matrix(y_test,y_test_pred,labels=[<span class="number">1</span>,<span class="number">0</span>]),sep=<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;分类报告：\n&quot;</span>,classification_report(y_test,y_test_pred))</span><br></pre></td></tr></table></figure>
<h3 id="多分类"><a href="#多分类" class="headerlink" title="多分类"></a>多分类</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line">model = SVC(kernel=<span class="string">&quot;linear&quot;</span>, decision_function_shape=<span class="string">&quot;ovr&quot;</span>)  <span class="comment">#采用一对其余策略</span></span><br><span class="line">model.fit(X_train_std, y_train)  <span class="comment">#用标准化后的特征数据训练模型</span></span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> *</span><br><span class="line"><span class="comment"># 预测测试集数据</span></span><br><span class="line">y_test_pred = model.predict(X_test_std)</span><br><span class="line"></span><br><span class="line">acc_test = accuracy_score(y_test,y_test_pred)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;测试集准确率：&quot;</span>,acc_test)</span><br><span class="line">recall_test = recall_score(y_test,y_test_pred,</span><br><span class="line">                        average=<span class="string">&quot;macro&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;测试集召回率：&quot;</span>,recall_test)</span><br><span class="line">precision_test = precision_score(y_test,y_test_pred,</span><br><span class="line">                        average=<span class="string">&quot;macro&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;测试集精度：&quot;</span>,precision_test)</span><br><span class="line">f1 = f1_score(y_test,y_test_pred,</span><br><span class="line">                        average=<span class="string">&quot;macro&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;测试集f1-score：&quot;</span>,f1)</span><br><span class="line">labels=(<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="comment">#confusion_matrix中的labels参数确定类别标签排列顺序</span></span><br><span class="line">cm = confusion_matrix(y_test,y_test_pred,labels=labels)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;混淆矩阵：\n&quot;</span>,cm,sep=<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;分类报告：\n&quot;</span>,classification_report(y_test,y_test_pred))</span><br></pre></td></tr></table></figure>

<h2 id="简答题"><a href="#简答题" class="headerlink" title="简答题"></a>简答题</h2><blockquote>
<ol start="0">
<li>subplot(),subplots()和subplot2grid()的区别</li>
</ol>
</blockquote>
<ul>
<li>subplot是在规划好的某个区域中绘制单个子图。</li>
<li>subplots可以在规划好的所有区域中一次绘制多个子图</li>
<li>subplot2grid可以将整个画布规划成非等分布局的区域，并可在选中的某个区域中绘制子图<blockquote>
<ol>
<li>数据分析的基本过程</li>
</ol>
</blockquote>
</li>
</ul>
<ol>
<li>分析目的</li>
<li>数据获取</li>
<li>数据处理</li>
<li>数据分析</li>
<li>数据可视化</li>
<li>总结与建议<blockquote>
<ol start="2">
<li>列举 5 种数据可视化图表，并对每种图表描述一个可以使用的场景</li>
</ol>
</blockquote>
</li>
<li>折线图，适用于显示随时间变化的趋势。例如，展示公司股价随着时间的变化，或者温度随季节的变化趋势</li>
<li>散点图，用于显示两个变量之间的关系，以及识别数据中的离群点。例如，展示身高和体重之间的关系，或者成绩和学习时间的关系</li>
<li>饼图，用于显示整体中各部分的相对比例。例如，展示销售额中不同产品的占比，或者投资组合中各项资产的占比</li>
<li>箱线图，用于展示数据的分布、中位数和离群值。例如，比较不同产品的收益分布，或者展示不同组的实验结果的差异</li>
<li>柱状图，用于比较不同类别之间的数量或频率。例如，比较不同产品的销售量，或者不同月份的销售额<blockquote>
<ol start="3">
<li>使用 Matplotlib 的 pyplot 子模块绘制一幅折线图，除了完成折线的图形绘制外，通常需要在图形上设置和添加什么元素，使得图表能更加完整和清晰的展示数据。<br>标题、坐标轴标签、图例、网格线、注释annotate</li>
<li>请简述一种异常值检测的方法<br>待补充</li>
<li>用 jieba 模块和 wordcloud 库生成词云图的流程<br>导库、读取文本数据、使用 jieba 进行分词、生成词云对象、显示词云图</li>
<li>Pandas 中的两大数据结构是什么，并描述它们各自的数据结构特点<br>Series和DataFrame</li>
</ol>
</blockquote>
</li>
<li>Series是一维的标签化数组，类似于带有标签的一列数据。它可以包含任意类型的数据，如整数、浮点数、字符串等。Series具有以下特点：有序性、数据对齐、索引操作、缺失值处理、向量化操作</li>
<li>DataFrame是一个二维的表格型数据结构，类似于关系型数据库中的表格或Excel中的电子表格。它由多个Series对象组成，每个Series代表一列数据。DataFrame具有以下特点：二维结构、标签索引、列数据异构性、数据对齐、缺失值处理、数据操作<blockquote>
<ol start="7">
<li>回归和分类的区别<br>关键区别主要体现在预测目标的性质、输出类型以及任务目标上：<br>预测目标的性质：</li>
</ol>
</blockquote>
</li>
</ol>
<ul>
<li>回归： 预测的是连续型的数值变量，输出是一个实数。</li>
<li>分类： 预测的是离散型的类别标签，输出是一个类别。<br>输出类型：</li>
<li>回归： 模型的输出是一个实数，可以是任意范围内的数值。</li>
<li>分类： 模型的输出是类别标签，通常是离散的、有限个数的类别。<br>任务目标：</li>
<li>回归： 任务目标是找到一个函数，通过输入的特征来预测目标变量的实际数值。</li>
<li>分类： 任务目标是找到一个函数，通过输入的特征来将样本分为不同的类别。<blockquote>
<ol start="8">
<li>简述对于给定数据集进行回归分析的步骤，并给出三种回归分析的方法</li>
</ol>
</blockquote>
</li>
</ul>
<blockquote>
<ol start="9">
<li>Python 中与数据分析相关的模块有哪些，列举至少三个，并简述其作用</li>
</ol>
</blockquote>
<ol>
<li>NumPy（Numerical Python）是用于科学计算的基础库，提供了多维数组对象（例如numpy.array）和一组用于操作这些数组的函数。NumPy的主要优势在于其高效的数组操作和广播功能，使得在数据分析中可以进行快速且方便的数值计算。</li>
<li>Pandas是建立在NumPy之上的数据分析库，提供了高级的数据结构，尤其是DataFrame（二维表格），用于处理和分析结构化数据。Pandas能够轻松地处理缺失数据、合并和连接数据集、进行数据透视表等，使得数据清洗、转换和分析更加便捷。</li>
<li>Matplotlib是用于绘制图表和可视化数据的库。它提供了丰富的绘图工具，能够生成各种类型的图表，包括折线图、散点图、直方图、饼图等。Matplotlib与NumPy和Pandas结合使用，可以直观地展示数据分析的结果，助力数据探索和呈现。</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://www.jannan.top/">Jannan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://www.jannan.top/post/35ac6461.html">https://www.jannan.top/post/35ac6461.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.jannan.top" target="_blank">Jannan的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Python/">Python</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/">数据可视化</a></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2023/10/13/N5Vvr3CEMHgGZcw.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/post/e3b805ea.html" title="bluebell"><img class="cover" src="https://s2.loli.net/2023/10/13/d8bcHRZFYvA9ynT.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">bluebell</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%9A%84%E7%B4%A2%E5%BC%95"><span class="toc-number">1.</span> <span class="toc-text">数据的索引</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#numpy-%E4%B8%AD-ndarray-%E7%9A%84%E7%B4%A2%E5%BC%95%E4%B8%8E%E5%88%87%E7%89%87"><span class="toc-number">1.1.</span> <span class="toc-text">numpy 中 ndarray 的索引与切片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pandas-%E7%B4%A2%E5%BC%95%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.</span> <span class="toc-text">pandas 索引操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Series-%E7%B4%A2%E5%BC%95%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.1.</span> <span class="toc-text">Series 索引操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DataFrame-%E7%B4%A2%E5%BC%95%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.2.</span> <span class="toc-text">DataFrame 索引操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DataFrame-%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9"><span class="toc-number">2.</span> <span class="toc-text">DataFrame 增删查改</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0%E3%80%81%E5%88%A0%E9%99%A4%E4%B8%80%E8%A1%8C%E6%95%B0%E6%8D%AE"><span class="toc-number">2.1.</span> <span class="toc-text">增加、删除一行数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0%E3%80%81%E5%88%A0%E9%99%A4%E4%B8%80%E5%88%97%E6%95%B0%E6%8D%AE"><span class="toc-number">2.2.</span> <span class="toc-text">增加、删除一列数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%9F%90%E4%B8%AA%E5%85%83%E7%B4%A0"><span class="toc-number">2.3.</span> <span class="toc-text">修改某个元素</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">3.</span> <span class="toc-text">数据处理的基本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%A4%8D%E5%80%BC"><span class="toc-number">3.1.</span> <span class="toc-text">重复值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E5%80%BC%E3%80%81%E7%BC%BA%E5%A4%B1%E5%80%BC"><span class="toc-number">3.2.</span> <span class="toc-text">空值、缺失值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%90%88%E5%B9%B6"><span class="toc-number">3.3.</span> <span class="toc-text">数据合并</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%A6%BB%E6%95%A3%E5%8C%96"><span class="toc-number">3.4.</span> <span class="toc-text">数据离散化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A0%87%E5%87%86%E5%8C%96"><span class="toc-number">3.5.</span> <span class="toc-text">数据标准化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%91%E5%8F%98%E9%87%8F%E5%A4%84%E7%90%86"><span class="toc-number">3.6.</span> <span class="toc-text">哑变量处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E5%BA%8F%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE%E7%BC%96%E7%A0%81"><span class="toc-number">3.7.</span> <span class="toc-text">有序分类数据编码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88"><span class="toc-number">4.</span> <span class="toc-text">数据分组与聚合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-number">5.</span> <span class="toc-text">数据可视化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%98%E7%BA%BF%E5%9B%BE"><span class="toc-number">5.1.</span> <span class="toc-text">折线图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A5%BC%E5%9B%BE"><span class="toc-number">5.2.</span> <span class="toc-text">饼图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%B1%E5%BD%A2%E5%9B%BE"><span class="toc-number">5.3.</span> <span class="toc-text">柱形图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E5%BD%A2%E5%9B%BE"><span class="toc-number">5.4.</span> <span class="toc-text">条形图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E7%A7%AF%E5%9B%BE"><span class="toc-number">5.5.</span> <span class="toc-text">面积图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%B1%E7%BA%BF%E5%9B%BE"><span class="toc-number">5.6.</span> <span class="toc-text">箱线图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="toc-number">5.7.</span> <span class="toc-text">散点图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="toc-number">5.8.</span> <span class="toc-text">直方图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Seaborn"><span class="toc-number">6.</span> <span class="toc-text">Seaborn</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%90%E5%9B%BE%E7%BB%98%E5%88%B6"><span class="toc-number">7.</span> <span class="toc-text">子图绘制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#subplot"><span class="toc-number">7.1.</span> <span class="toc-text">subplot</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#subplots"><span class="toc-number">7.2.</span> <span class="toc-text">subplots</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#subplot2grid"><span class="toc-number">7.3.</span> <span class="toc-text">subplot2grid</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8C%E5%9D%90%E6%A0%87%E5%9B%BE"><span class="toc-number">8.</span> <span class="toc-text">双坐标图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E4%B8%AD%E5%9B%BE"><span class="toc-number">9.</span> <span class="toc-text">图中图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E5%BD%92"><span class="toc-number">10.</span> <span class="toc-text">回归</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92"><span class="toc-number">10.1.</span> <span class="toc-text">线性回归</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B2%AD%E5%9B%9E%E5%BD%92"><span class="toc-number">10.2.</span> <span class="toc-text">岭回归</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A5%97%E7%B4%A2%E5%9B%9E%E5%BD%92"><span class="toc-number">10.3.</span> <span class="toc-text">套索回归</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%B1%BB"><span class="toc-number">11.</span> <span class="toc-text">分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%88%86%E7%B1%BB"><span class="toc-number">11.1.</span> <span class="toc-text">二分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E5%88%86%E7%B1%BB"><span class="toc-number">11.2.</span> <span class="toc-text">多分类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E7%AD%94%E9%A2%98"><span class="toc-number">12.</span> <span class="toc-text">简答题</span></a></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('https://s2.loli.net/2023/10/13/N5Vvr3CEMHgGZcw.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2024 By Jannan</div><div class="footer_custom_text">I wish you to become your own sun, no need to rely on who's light.<p><a target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo"></a>&nbsp;<a target="_blank" href="https://butterfly.js.org/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用butterfly"></a>&nbsp;<a target="_blank" href="https://www.jsdelivr.com/"><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="本站使用JsDelivr为静态资源提供CDN加速"></a> &nbsp;<a target="_blank" href="https://vercel.com/ "><img src="https://img.shields.io/badge/Hosted-Vervel-brightgreen?style=flat&logo=Vercel" title="本站采用双线部署，默认线路托管于Vercel"></a>&nbsp;<a target="_blank" href="https://vercel.com/ "><img src="https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&logo=Codio" title="本站采用双线部署，联通线路托管于Coding"></a>&nbsp;<a target="_blank" href="https://github.com/"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="本站项目由Gtihub托管"></a>&nbsp;<a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>